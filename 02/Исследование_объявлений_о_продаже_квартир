#Исследование объявлений о продаже квартир

*Цель исследования* - провести исследовательский анализ данных и установить параметры, влияющие на цену объектов.

Входные данные сервиса Яндекс Недвижимость — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктах за несколько лет. Результаты исследования будут учтены при построении автоматизированной системы: она отследит аномалии и мошенническую деятельность.


ОБЩИЙ ВЫВОД:
Цель исследования достигнута.

Для достижения поставленной цели:

1. Была изучена общая информацию о данных.
Данные предоставлены в виде таблицы, состоящей из 23699 строк и из 22 столбцов:
total_images — число фотографий квартиры в объявлении
last_price — цена на момент снятия с публикации
total_area — общая площадь квартиры в квадратных метрах (м²)
first_day_exposition — дата публикации
rooms — число комнат
ceiling_height — высота потолков (м)
floors_total — всего этажей в доме
living_area — жилая площадь в квадратных метрах (м²)
floor — этаж
is_apartment — апартаменты (булев тип)
studio — квартира-студия (булев тип)
open_plan — свободная планировка (булев тип)
kitchen_area — площадь кухни в квадратных метрах (м²)
balcony — число балконов
locality_name — название населённого пункта
airports_nearest - расстояние до ближайшего аэропорта в метрах (м)
cityCenters_nearest — расстояние до центра города (м)
parks_around3000 — число парков в радиусе 3 км
parks_nearest — расстояние до ближайшего парка (м)
ponds_around3000 — число водоёмов в радиусе 3 км
ponds_nearest — расстояние до ближайшего водоёма (м)
days_exposition — сколько дней было размещено объявление (от публикации до снятия).
Из них:
2 столбца с булевым типом значения - bool
14 столбцов сформата с плафающей запятой - float
2 столбца с целочисленными значениями - int
и 3 столбца с типом object
Явных дубликатов в датафрейме нет. В данных уже можно заметить пропуски, неверные типы данных (например: 'total_images', 'first_day_exposition', 'balcony')
и аномалии (например: 'total_area' максимум 900м, 'ceiling_height' минимум 1м и максимум 100м, 'living_area' минимум 2м и максимум 410м, kitchen_area минимум 1,3м и максимум 112м).

2. Провели предобработку данных.
В результате предобработки данных мы более подробно познакомились со значениями в каждом столбце. Были выявлены пропуски в следующих строках:
ceiling_height - исправлены некорректные значения, пропуски заменены на медианное значение;
floors_total - пропуски удалены, т.к не возможно определить этажность дома по смежным признакам, кроме конкретного адреса дома;
living_area - пропуски заполнены отношением жилой площади к общей исходя из количества комнат;
is_apartment - пропуски не заполнены;
kitchen_area - пропуски не заполнены, невозможно предусмотреть все влияющие факторы (количество комнат, планировку - она может быть индивидуальной, расположение, старый или новый фонд);
balcony - пропуски заполнены значением "0";
locality_name - пропуски удалены, т.к. их количество незначительно, кроме того, нет возможности их заполнить без адреса;
airports_nearest - пропуски не заполнены, нет возможности их заполнить без адреса;
city_centers_nearest - пропуски не заполнены, нет возможности их заполнить без адреса;
parks_around_3000 - пропуски не заполнены, нет возможности их заполнить без адреса;
parks_nearest - пропуски не заполнены, нет возможности их заполнить без адреса;
ponds_around_3000 - пропуски не заполнены, нет возможности их заполнить без адреса;
ponds_nearest - пропуски не заполнены, нет возможности их заполнить без адреса;
days_exposition - пропуски не заполнены.
Были изменены типы значений в следующих столбцах: total_images, first_day_exposition, rooms, floor, balcony.
Кроме того, было обнаружены и устранены неявные дубликаты в значениях столбца locality_name.
В результате предобработки данных количество строк сократилось на 135 или 0,57% от первоначального датафрейма.

3. Добавили в таблицу новые столбцы:
price_metr_square - цена одного квадратного метра;
day_exposition - день недели публикации объявления;
month_exposition - месяц публикации объявления;
year_exposition - год публикации объявления;
floor_type - тип этажа квартиры;
city_centers_nearest_km - расстояние до центра в км.

4. Провели исследовательский анализ данных и проверили зависимости.
4.1. Изучены основные параметры и удалены следующие аномальные значения:
Самая ходовая продаваемая квартира - двушка общей площадью в размере 51,2 кв.м., из них жилая - 30кв.м. и площадь кухни - 9кв.м..
Она находтся в 9-этажном доме не на крайних этажах (не на первом и не на последнем), иммеет высоту потолков 2,65м.
Данная квартира находится на расстоянии примерно 13км от центра города и в полукилометре от ближайшего парка.

Были удалены следующие аномальные значения:
last_price - свыше 30млн.
total_area - свыше 200кв.м.
ceiling_height - до 2,4м и свыше 5 м.
В результате удаления аномалий мы сократили наш датафрем еще на 452 строки или 1.91% от первоначального объема.
Общая потеря данных составила 587 (аномалии и пропущенные значения) строк или 2.48% от первоначального объема.

4.2. Изучили, как быстро продавались квартиры
Среднее значение длительности размещения объявления составляет 178 дней, медиана 94 дня. 
На более детальной гистограмме распределения отмечаются два пика 45 и 60 дней. Скорее всего в эти дни происходило автоматическое снятие объявления. 
Обычно продажа квартиры занимает 3 месяца. Быстрая продажа осуществляется до 45 дней, а необычно долгие продажи осуществляются после 228 дней.

4.3. Определили влияние на общую (полную) стоимость объекта общей площади, жилой площади, площади кухни, количества комнат, 
этажа, на котором расположена квартира (первый, последний, другой) и даты размещения (день недели, месяц, год)

Самая высокая зависимость отмечается между общей площадью квартиры и стоимостью. С увеличением площади, растет и цена.
Более слабая зависимость стоимости от жилой площади, но все же закономерность есть, при увеличении жилой площади растет и стоимость.
Зависимость стоимости от площади кухни более рассеяная. При небольших значениях стоимости и площади кухни связь прослеживается - чем больше кухня,
тем выше стоимость. Но на значениях выше зависимость рассеивается. С небольшой кухней можно получить цену выше, чем с кухней побольше.
Зависимость стоимости от количества комнат прямая. Чем больше комнат, тем больше стоимость квартиры.
Самые дешёвые квартиры на первом этаже, чуть дороже на последнем, и ,самые дорогие в этой выборке квартиры не на крайних этажах.
Самые дорогие квартиры выставляют на продажу по вторникам и средам, а самые дешевые в субботу. Связано это скорее всего с тем, 
что в будние дни агентства выставляют на продажу квартиры по завышенной стоимости, а при чем в пятницу, они уже их не выставляют на продажу. 
А в пятницу и в выходные выставляют на продажу сами собственники.
Что касается месяцев, то пик стоимости приходится на апрель, затем идет резкий провал в июне - связан он скорее всего с сезонностью,
в мае-июне интерес к покупке квартиры минимален. К концу лета интерес возвращается, поднимается и стоимость.
Что касается года размещения, то отмечается резкий спад цен с 2014 года и провал в 2016-2017 гг. затем наметился плавный подъем в стоимости. 
Вызвано это скорее всего событиями в 2014 г. - применение санкций к РФ и последтсвиям от них.

4.4. Посчитали среднюю цену одного квадратного метра в 10 населенных пунктах с наибольшим количеством объявлений.
Самая высокая средняя цена в Санкт петербурге - 111 тыс. за кв.м.
Самая низкая в Выборге - 58 тыс. за кв.м.

4.5. Вычислили среднюю стоимость объекта на разном удалении от центра (в км).
При увеличении расстояния от центра города средняя стоимость квартиры в основном уменьшается. 
Отмечается большой скачок на расстоянии 27 км от центра - скорее всего на этом расстоянии расположен крупный город (проверила по интренету - это Пушкин).

В соответствии с выщеизложенным, предлагаем учитывать результаты исследования при построении автоматизированной системы.
Кроме того, рекомендуем обратить внимание на полноту и корректность предоставленных данных:
1. Наличие большого количества пропусков в статьях: 
"жилая площадь" и "площадь кухни", "аппартаменты"
статьях связанных с расстоянием от центра, парка, водоема и аэропорта,
статьях, связанных с указанием количества парков и водоемов рядом
"сколько дней было размещено объявление".
Следует провести анализ причин и разработать методы по недопущению возникновения пропусков и некорректного заполнения значений.
Например, расстояние может высчитываться автоматически, при указании полного адреса объекта, 
тоже самое по геолокации объекта - можно автоматически проставлять количесвто водоемов и парков рядом.
Статья "сколько дней было размещено объявление" также должна высчитываться автоматически. 
Или, например, при указании небольшой площади квартиры незаканчивать процедуру размещения квартиры,
при отсутствии информации в поле "аппартаменты". Такие же меры необходимо применять к другим основным статьям при размещении объявления. 
2. Некорректные значения в статье "высота потолков". Можно предложить выбор из списка. Например, ниже 2.5, 2.5-2.7, 2.7-3.0, 3.0 и выше. 
3. Неявные дубликаты в наименовании населенного пункта. Избежать их поможет поможет система КЛАДР. 
4. Наличие в столбце "количество дней размещения" некоторого числа автоматического закрытия объявления по истечении срока размещения.
В целом, наличие пропусков и некорректных значений, при неправильной их обработки после сбора инфромации, может привести к ошибкам в моделях и принятии решения.
